<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="Traveler">

	<select id="signin" parameterType="www.tours2us.com.model.TravelerDto" resultType="www.tours2us.com.model.TravelerDto">
		SELECT * FROM TRAVELER
		WHERE EMAIL=#{email} AND PASSWORD=#{password} 
	</select>

 	<insert id="signup" parameterType="www.tours2us.com.model.TravelerDto">
 		INSERT INTO TRAVELER(SEQ, EMAIL, NAME, PASSWORD, AUTHOR, REG_DATE, LAST_UPDATED)
 		VALUES(TRAVELER_SEQ.NEXTVAL, #{email}, #{name},#{password}, 0, SYSDATE, SYSDATE)
 	</insert>
 	
 	<select id ="getUserByEmail" parameterType="java.lang.String" resultType="www.tours2us.com.model.TravelerDto">
 		select * from Traveler where email=#{email} 
 	</select>


 	<select id ="getTravelersByNamdOrEmail" parameterType="java.lang.String" resultType="www.tours2us.com.model.TravelerDto">
 		select * from Traveler where email like '%'||#{param}||'%' or name like '%'||#{param}||'%'
 	</select>
 	
 	<update id="myInfoUpd" parameterType="www.tours2us.com.model.TravelerDto">
 		UPDATE TRAVELER SET PASSWORD=#{password}, NAME=#{name}
 		WHERE EMAIL=#{email}
 	</update>


</mapper>